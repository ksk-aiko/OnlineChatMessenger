@startuml
start
:ユーザーが選択;
if (新しいチャットルームを作成する) then
  :TCP接続でサーバーに接続;
  :チャットルームの作成要求を送信;
  :サーバーがトークンを生成して送信;
else (既存のチャットルームに参加する)
  :TCP接続でサーバーに接続;
  :チャットルームへの参加要求を送信;
  :サーバーがトークンを生成して送信;
endif
:UDPを使用してサーバーに接続;
:メッセージの送受信;
stop
@enduml
